$schema: https://json-schema.org/draft-07/schema#
type: object
patternProperties:
  ^[a-zA-Z0-9_]+$:
    type: object
    required:
      - id
      - event_types
      - potential_targets
    properties:
      id:
        type: integer
        minimum: 0
        maximum: 65535
        description: Unique identifier for the action
      internal_name:
        type: string
        default: ""
      event_types:
        type: array
        items:
          oneOf:
            - type: object
              required: [ Damage ]
              properties:
                Damage:
                  type: object
                  required: [ amount, damage_types ]
                  properties:
                    amount:
                      type: integer
                      minimum: 0
                      maximum: 65535
                    damage_types:
                      type: array
                      items:
                        $ref: '#/definitions/damageType'
                      uniqueItems: true
            - type: object
              required: [ Heal ]
              properties:
                Heal:
                  type: object
                  required: [ amount ]
                  properties:
                    amount:
                      type: integer
                      minimum: 0
                      maximum: 65535
      potential_targets:
        type: array
        items:
          $ref: '#/definitions/actionTarget'
        uniqueItems: true
definitions:
  damageType:
    type: string
    enum:
      - Piercing
      - Bludgeoning
      - Slashing
      - Fire
      - Frost
      - Thunder
      - Light
      - Dark
  actionTarget:
    type: string
    enum:
      - None
      - SpecificAlly
      - SpecificOpponent
      - EveryAllyExceptSelf
      - EveryAllyIncludingSelf
      - EveryOpponent